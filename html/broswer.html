<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>检测浏览器</title>
	<link rel="stylesheet" type="text/css" href="../css/index.css">
	<style>
		
	</style>
</head>
<body>
	<header>
		<h1>检测浏览器</h1>
	</header>
	<div class="demo_wrap">
		<h2>判断是pc端还是移动端</h2>
		<p id="pc_or_mobi"></p>
		<h2>判断是何种品牌的浏览器</h2>
		<p id="type_of_broswer"></p>
		<h2>判断是不是在微信里打开</h2>
		<p id="is_weixin"></p>
	</div>
	<script src="../js/lib/zepto.js"></script>
	<script src="../js/public.js"></script>
	<script>
		//判断是pc端还是移动端
		function browserRedirect() {
            var sUserAgent = navigator.userAgent.toLowerCase();
            var bIsIpad = sUserAgent.match(/ipad/i) == "ipad";
            var bIsIphoneOs = sUserAgent.match(/iphone os/i) == "iphone os";
            var bIsMidp = sUserAgent.match(/midp/i) == "midp";
            var bIsUc7 = sUserAgent.match(/rv:1.2.3.4/i) == "rv:1.2.3.4";
            var bIsUc = sUserAgent.match(/ucweb/i) == "ucweb";
            var bIsAndroid = sUserAgent.match(/android/i) == "android";
            var bIsCE = sUserAgent.match(/windows ce/i) == "windows ce";
            var bIsWM = sUserAgent.match(/windows mobile/i) == "windows mobile";
            if (bIsIpad || bIsIphoneOs || bIsMidp || bIsUc7 || bIsUc || bIsAndroid || bIsCE || bIsWM) {
                pc_or_mobi.innerHTML="您的浏览设备为：phone";
            } else {
                pc_or_mobi.innerHTML="您的浏览设备为：pc";
            }
        }
        browserRedirect();
        //判断是何种品牌的浏览器
        function myBrowser(){
		    var userAgent = navigator.userAgent; //取得浏览器的userAgent字符串
		    var isOpera = userAgent.indexOf("Opera") > -1;
		    if (isOpera) {
		        return "Opera"
		    }; //判断是否Opera浏览器
		    if (userAgent.indexOf("Firefox") > -1) {
		        return "FF";
		    } //判断是否Firefox浏览器
		    if (userAgent.indexOf("Chrome") > -1){
		  		return "Chrome";
		 	}
		    if (userAgent.indexOf("Safari") > -1) {
		        return "Safari";
		    } //判断是否Safari浏览器
		    if (userAgent.indexOf("compatible") > -1 && userAgent.indexOf("MSIE") > -1 && !isOpera) {
		        return "IE";
		    }; //判断是否IE浏览器
		}
		type_of_broswer.innerHTML = "我用的浏览器是：" + myBrowser();
		//判断是否通过卫星打开
		function isWeixn(){  
		    var ua = navigator.userAgent.toLowerCase();  
		    if(ua.match(/MicroMessenger/i)=="micromessenger") {  
		        return true;  
		    } else {  
		        return false;  
		    }  
		} 
		if(isWeixn()){
			is_weixin.innerHTML = "的确是通过微信打开的";
		}else{
			is_weixin.innerHTML = "不是通过微信打开的"
		}
	</script>
</body>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0">
	<title>商品列表</title>
	<link rel="stylesheet" type="text/css" href="http://st.360buyimg.com/common/commonH_B/css/header.css" charset="utf-8"/>
	<link rel="stylesheet" type="text/css" href="../css/layout.css">
</head>
<body>
	<header>
		<h1>商品列表</h1>
	</header>
	<div id="m_common_header"></div>
	<div class="main">
		<div class="banner_make_money">
			<img src="../resource/ban_make_money_bg.png" class="banner_pic"/>
		</div>
		
		<div class="jdc_nav">
			<ul class="jdc_nav_wrap">
				<li class="jdc_nav_tin cur">9.9包邮</li>
				<li class="jdc_nav_tin">新春贺礼</li>
				<li class="jdc_nav_tin">年货美食</li>
				<li class="jdc_nav_tin">家居护理</li>
				<li class="jdc_nav_tin">儿童玩具</li>
				<li class="jdc_nav_tin">精美服饰</li>
			</ul>
		</div>

		<div class="jdc_channel">
			<div class="jdc_channel_name">9.9包邮</div>
			<ul>

				<li class="jdc_channel_block">
					<div class="jdc_channel_block_pic">
						<a href=""><img src="../resource/temp_block_pic.png"/></a>
					</div>
					<dl>
						<dt class="jdc_channel_block_title">
							<a href="">时开（SHIKAI）日常护理旅行套装(洗发60ml＋护发60ml＋小黄瓜沐浴露)一个套装生活无忧</a>
						</dt>
						<dd class="jdc_channel_block_info">澳洲直采 奶源纯净</dd>
						<dd class="jdc_channel_block_price">
							<span class="jdc_channel_block_price_now">68</span>
							<span class="jdc_channel_block_price_old">16</span>
						</dd>
					</dl>
					<a href="" class="jdc_channel_block_btn">立即抢购</a>
				</li>

			</ul>
		</div>

		<div class="jdc_channel">
			<div class="jdc_channel_name">新春贺礼</div>
			<ul class="jdc_channel_brick_wrap">

				<li class="jdc_channel_brick">
					<div class="jdc_channel_brick_pic">
						<a href=""><img src="../resource/temp_brick_pic.png"/></a>
					</div>
					<dl>
						<dt class="jdc_channel_brick_title">
							<a href="">加拿大多春鱼8条／包125g以上 最低价多买的多 越多越好年年有鱼</a>
						</dt>
						<dd class="jdc_channel_brick_price">
							<span class="jdc_channel_brick_price_now">9.9</span>
							<span class="jdc_channel_brick_price_old">16</span>
						</dd>
					</dl>
				</li>

			</ul>
		</div>

		<div class="jdc_channel">
			<div class="jdc_channel_name">年货美食</div>
			<ul>

				<li class="jdc_channel_block">
					<div class="jdc_channel_block_pic">
						<a href=""><img src="../resource/temp_block_pic.png"/></a>
					</div>
					<dl>
						<dt class="jdc_channel_block_title">
							<a href="">时开（SHIKAI）日常护理旅行套装(洗发60ml＋护发60ml＋小黄瓜沐浴露)一个套装生活无忧</a>
						</dt>
						<dd class="jdc_channel_block_info">澳洲直采 奶源纯净</dd>
						<dd class="jdc_channel_block_price">
							<span class="jdc_channel_block_price_now">68</span>
							<span class="jdc_channel_block_price_old">16</span>
						</dd>
					</dl>
					<a href="" class="jdc_channel_block_btn">立即抢购</a>
				</li>

			</ul>
		</div>

		<div class="jdc_channel">
			<div class="jdc_channel_name">家居护理</div>
			<ul class="jdc_channel_brick_wrap">

				<li class="jdc_channel_brick">
					<div class="jdc_channel_brick_pic">
						<a href=""><img src="../resource/temp_brick_pic.png"/></a>
					</div>
					<dl>
						<dt class="jdc_channel_brick_title">
							<a href="">加拿大多春鱼8条／包125g以上 最低价多买的多 越多越好年年有鱼</a>
						</dt>
						<dd class="jdc_channel_brick_price">
							<span class="jdc_channel_brick_price_now">9.9</span>
							<span class="jdc_channel_brick_price_old">16</span>
						</dd>
					</dl>
				</li>

			</ul>
		</div>

		<div class="jdc_channel">
			<div class="jdc_channel_name">儿童玩具</div>
			<ul>

				<li class="jdc_channel_block">
					<div class="jdc_channel_block_pic">
						<a href=""><img src="../resource/temp_block_pic.png"/></a>
					</div>
					<dl>
						<dt class="jdc_channel_block_title">
							<a href="">时开（SHIKAI）日常护理旅行套装(洗发60ml＋护发60ml＋小黄瓜沐浴露)一个套装生活无忧</a>
						</dt>
						<dd class="jdc_channel_block_info">澳洲直采 奶源纯净</dd>
						<dd class="jdc_channel_block_price">
							<span class="jdc_channel_block_price_now">68</span>
							<span class="jdc_channel_block_price_old">16</span>
						</dd>
					</dl>
					<a href="" class="jdc_channel_block_btn">立即抢购</a>
				</li>

			</ul>
		</div>

		<div class="jdc_channel">
			<div class="jdc_channel_name">精美服饰</div>
			<ul class="jdc_channel_brick_wrap">

				<li class="jdc_channel_brick">
					<div class="jdc_channel_brick_pic">
						<a href=""><img src="../resource/temp_brick_pic.png"/></a>
					</div>
					<dl>
						<dt class="jdc_channel_brick_title">
							<a href="">加拿大多春鱼8条／包125g以上 最低价多买的多 越多越好年年有鱼</a>
						</dt>
						<dd class="jdc_channel_brick_price">
							<span class="jdc_channel_brick_price_now">9.9</span>
							<span class="jdc_channel_brick_price_old">16</span>
						</dd>
					</dl>
				</li>

			</ul>
		</div>

	</div>
	<script src="../js/lib/zepto.js"></script>
	<script src="../js/public.js"></script>
	<script>
		$(function(){
			//仅重构测试时调用,每个频道下生成6条商品
			addItemForTest(6);
			
			//滚动操作及监听
			(function(){
				var $body = $('body'),
					$jdcNav = $('.jdc_nav'),
					$jdcNavTin = $('.jdc_nav_tin'),
					jdcNavTinWidth = $jdcNavTin.eq(1).offset().left,
					$channelName = $('.jdc_channel_name'),
					navOffsetTop = $jdcNav.offset().top,
					scrollTop;
				//tab切换
				$jdcNavTin.on('tap || click',function(){
					$jdcNavTin.removeClass('cur');
					$(this).addClass('cur');
					$body.scrollTop($channelName.eq($(this).index()).offset().top-100);
				})
				//监听滚动
				$(document).on('scroll',function(){
					scrollTop = $body.scrollTop();
					if(scrollTop >= navOffsetTop-41){
						$jdcNav.addClass('fixed');
					}else{
						$jdcNav.removeClass('fixed');
					}
					for(var i=0; i<$channelName.length; i++){
						if(scrollTop >= $channelName.eq(i).offset().top-100){
							$jdcNavTin.removeClass('cur');
							$jdcNavTin.eq(i).addClass('cur');
							$('.jdc_nav_tin').eq(i).offset().left
								$('.jdc_nav_wrap').scrollLeft((i-3)*jdcNavTinWidth)
						}
					}	
				})
			})();
		})

		//仅供重构测试时使用
		function addItemForTest(n){
			var $a,$b;
			for(var i=1; i<n; i++){
				$('.jdc_channel').each(function(){
					$a = $(this).find('.jdc_channel_block').eq(0);
					$b = $(this).find('.jdc_channel_brick').eq(0);
					$a.after($a.clone());
					$b.after($b.clone());
				})
			}
		}
	</script>
</body>
</html>